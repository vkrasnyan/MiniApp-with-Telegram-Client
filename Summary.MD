# FastAPI Telegram Client App

## Описание

Это приложение — интеграция FastAPI с Telegram-клиентом для чтения сообщений из каналов, публичных групп и личных чатов пользователя. Оно обеспечивает взаимодействие с Telegram, используя библиотеку `Telethon`, и обращается к LLM OpenAI через API, чтобы получить краткий обзор сообщений из канала или чата.

Приложение включает:
- Авторизацию в Telegram по номеру телефона пользователя.
- Получение списка каналов, групп и чатов пользователя.
- Отправку сообщений в Open AI API для суммаризации.
- Вывод суммаризации.

## Стек технологий

- **FastAPI** — для построения API.
- **Telethon** — для взаимодействия с Telegram.
- **Uvicorn** — для асинхронного запуска приложения.
- **Docker** — для контейнеризации приложения.
- **sqlite** — для хранения данных сессий.
- **.env** — для хранения конфиденциальных данных.

## Основные файлы и папки

**main.py**
- Инициализация приложения.
- Настройка роутов и middleware для работы приложения.
- Роут для отображения страницы index.html.
- Запуск приложения.

**telegram_client.py**
- Создание и конфигурация Telegram клиента.

- **client_ai.py**
- Создание и конфигурация OpenAI клиента.
- Функция для передачи запроса на OpenAI API.

**config.py**
- Конфигурационные настройки для работы с приложением. В нем определяются параметры, которые используются для подключения к Telegram API, а также для других важных настроек приложения.

**database.py**
- Настройки базы данных

**models.py**
- Определения моделей, используемых в приложении

**routers.py**
Cодержит все маршруты (роуты) приложения, которые обрабатывают HTTP-запросы от пользователей и выполняют соответствующие действия (выполнение бизнес-логики и возвращение ответов).

**services**
- Компоненты, которые отвечают за обработку бизнес-логики приложения.

**static**
- Хранение статических файлов

**templates**
- Хранение HTML-шаблонов


## Установка приложения

1. Клонируйте репозиторий:
   git clone https://github.com/vkrasnyan/MiniApp-with-Telegram-Client/tree/master
   cd <project_directory>
2. Создайте виртуальное окружение:
python3 -m venv .venv
source .venv/bin/activate  # для Linux
.venv\Scripts\activate     # для Windows
3. Установите зависимости:
pip install -r requirements.txt
4. Создайте файл .env с необходимыми секретными данными:
API_ID=your_api_id
API_HASH=your_api_hash
SESSION_SECRET_KEY=your_default_secret_key
DATABASE_URL=your_database_url
OPENAI_API_KEY=your_openai_api_key
SECRET_KEY=your_default_secret_key
SESSION_NAME=your_default_session_name
5. Запустите приложение из файла main.py

## Запуск с помощью Docker

1. Соберите Docker-образ:
docker build -t my-fastapi-app .
2. Запустите контейнер:
docker run -p 8000:8000 my-fastapi-app

## Пути развития проекта
1. Сделать отдельные файлы для каждого роута для того, чтобы каждый роут отвечал за свою часть функционала, облегчая поддержку и масштабирование проекта.
2. Обеспечить хранение полученных данных в БД, откуда их можно будет извлекать.
3. Перейти на PostgreSQL и Alembic.
4. Добавить функциональность для планирования задач, таких как регулярное извлечение сообщений, анализ каналов и отправка отчетов в Telegram.








